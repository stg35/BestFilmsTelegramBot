import requests
from bs4 import BeautifulSoup
from time import sleep

headers = {
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Methods': 'GET',
    'Access-Control-Allow-Headers': 'Content-Type',
    'Access-Control-Max-Age': '3600',
    'User-Agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0'
    }

urls = ['https://www.kinopoisk.ru/lists/top250/', 'https://www.kinopoisk.ru/lists/top500/', 'https://www.kinopoisk.ru/popular/films/', 'https://www.kinopoisk.ru/comingsoon/', 'https://www.kinopoisk.ru/lists/editorial/theme_dragon', 'https://www.kinopoisk.ru/lists/editorial/theme_vampire', 'https://www.kinopoisk.ru/lists/editorial/theme_love', 'https://www.kinopoisk.ru/lists/editorial/theme_zombie', 'https://www.kinopoisk.ru/lists/editorial/theme_space', 'https://www.kinopoisk.ru/lists/editorial/theme_teenagers', 'https://www.kinopoisk.ru/lists/editorial/theme_catastrophe', 'https://www.kinopoisk.ru/lists/editorial/theme_shark', 'https://www.kinopoisk.ru/lists/editorial/theme_school', 'https://www.kinopoisk.ru/lists/editorial/theme_dance', 'https://www.kinopoisk.ru/lists/editorial/theme_family_comedy', 'https://www.kinopoisk.ru/lists/editorial/theme_kids_animation', 'https://www.kinopoisk.ru/lists/editorial/theme_action_comdey', 'https://www.kinopoisk.ru/lists/editorial/theme_romantic_comedy', 'https://www.kinopoisk.ru/lists/editorial/theme_kids_films', 'https://www.kinopoisk.ru/lists/editorial/theme_comics', 'https://www.kinopoisk.ru/lists/editorial/theme_worlds_end', 'https://www.kinopoisk.ru/lists/editorial/theme_ww2', 'https://www.kinopoisk.ru/lists/editorial/theme_russian_ny_comedy', 'https://www.kinopoisk.ru/lists/editorial/theme_foreign_ny_comedy', 'https://www.kinopoisk.ru/lists/editorial/theme_ny_animation', 'https://www.kinopoisk.ru/lists/navigator/?quick_filters=available_online', 'https://www.kinopoisk.ru/lists/navigator/?quick_filters=yandex_plus_subscription', 'https://www.kinopoisk.ru/lists/navigator/?quick_filters=kinopoisk_with_amediateka_subscription', 'https://www.kinopoisk.ru/lists/editorial/hd-blockbusters', 'https://www.kinopoisk.ru/lists/editorial/hd-family', 'https://www.kinopoisk.ru/lists/editorial/hd-best-2019-2020', 'https://www.kinopoisk.ru/lists/editorial/hd-only-kp', 'https://www.kinopoisk.ru/lists/editorial/hd-orig-audio', 'https://www.kinopoisk.ru/lists/editorial/hd-real-story', 'https://www.kinopoisk.ru/lists/editorial/hd-adaptation', 'https://www.kinopoisk.ru/lists/editorial/hd-revise', 'https://www.kinopoisk.ru/lists/editorial/hd-must-see', 'https://www.kinopoisk.ru/lists/editorial/Ian_Topless_top', 'https://www.kinopoisk.ru/lists/editorial/marvel_universe', 'https://www.kinopoisk.ru/lists/editorial/ozvucheno_kubik_v_kube', 'https://www.kinopoisk.ru/lists/series-top250/', 'https://www.kinopoisk.ru/popular/?quick_filters=serials', 'https://www.kinopoisk.ru/lists/editorial/hd-series-2020', 'https://www.kinopoisk.ru/lists/navigator/?quick_filters=serials%2Cavailable_online&tab=online', 'https://www.kinopoisk.ru/lists/navigator/country-2/?quick_filters=serials', 'https://www.kinopoisk.ru/lists/editorial/best_mini_serial', 'https://www.kinopoisk.ru/lists/editorial/doram', 'https://www.kinopoisk.ru/lists/box/usa-all-time/', 'https://www.kinopoisk.ru/lists/box/usa-first-weekend/', 'https://www.kinopoisk.ru/lists/box/usa-first-day/', 'https://www.kinopoisk.ru/lists/box/russia-dollar/', 'https://www.kinopoisk.ru/lists/box/russia-first-weekend-dollar/', 'https://www.kinopoisk.ru/lists/box/world-not-usa/', 'https://www.kinopoisk.ru/lists/box/total/', 'https://www.kinopoisk.ru/lists/box/usa-inflation/', 'https://www.kinopoisk.ru/lists/box/profitability/', 'https://www.kinopoisk.ru/lists/box/budget/', 'https://www.kinopoisk.ru/lists/box/ussr/', 'https://www.kinopoisk.ru/lists/awards/oscar/best-film/', 'https://www.kinopoisk.ru/lists/awards/oscar/best-film-nominees/', 'https://www.kinopoisk.ru/lists/awards/oscar/directing/', 'https://www.kinopoisk.ru/lists/awards/oscar/writing-original-screenplay/', 'https://www.kinopoisk.ru/lists/awards/oscar/writing-adapted-screenplay/', 'https://www.kinopoisk.ru/lists/awards/oscar/cinematography/', 'https://www.kinopoisk.ru/lists/awards/oscar/foreign-language-film/', 'https://www.kinopoisk.ru/lists/awards/oscar/animated-feature-film/', 'https://www.kinopoisk.ru/lists/awards/oscar/documentary-feature/', 'https://www.kinopoisk.ru/lists/awards/oscar/short-film-live-action/', 'https://www.kinopoisk.ru/lists/awards/oscar/short-film-animated/', 'https://www.kinopoisk.ru/lists/awards/oscar/visual-effects/', 'https://www.kinopoisk.ru/lists/awards/oscar/music-original-score/', 'https://www.kinopoisk.ru/lists/awards/golden-globe/best-motion-picture-drama/', 'https://www.kinopoisk.ru/lists/awards/golden-globe/best-motion-picture-musical-or-comedy/', 'https://www.kinopoisk.ru/lists/awards/bafta/best-film/', 'https://www.kinopoisk.ru/lists/awards/cesar/best-film/', 'https://www.kinopoisk.ru/lists/awards/goya/best-film/', 'https://www.kinopoisk.ru/lists/awards/saturn/best-sci-fi-fantasy-horror/', 'https://www.kinopoisk.ru/lists/festivals/cannes/golden-palm/', 'https://www.kinopoisk.ru/lists/festivals/berlinale/golden-bear/', 'https://www.kinopoisk.ru/lists/festivals/labiennale/golden-lion/', 'https://www.kinopoisk.ru/lists/awards/european-film-award/best-film/', 'https://www.kinopoisk.ru/lists/festivals/miff/golden-st-george/', 'https://www.kinopoisk.ru/lists/festivals/kviff/crystal-globe/', 'https://www.kinopoisk.ru/lists/festivals/sansebastian/golden-shell/', 'https://www.kinopoisk.ru/lists/festivals/pardo/golden-leopard/', 'https://www.kinopoisk.ru/lists/festivals/sundance/grand-jury-prize/', 'https://www.kinopoisk.ru/lists/awards/white-elephant/best-film-foreign-film/', 'https://www.kinopoisk.ru/lists/awards/emmy/outstanding-drama-series-comedy-series/', 'https://www.kinopoisk.ru/lists/navigator/country-2', 'https://www.kinopoisk.ru/lists/navigator/country-13', 'https://www.kinopoisk.ru/lists/navigator/country-1', 'https://www.kinopoisk.ru/lists/navigator/country-8', 'https://www.kinopoisk.ru/lists/navigator/country-14', 'https://www.kinopoisk.ru/lists/navigator/country-15', 'https://www.kinopoisk.ru/lists/navigator/country-11', 'https://www.kinopoisk.ru/lists/navigator/country-3', 'https://www.kinopoisk.ru/lists/navigator/country-26', 'https://www.kinopoisk.ru/lists/navigator/country-9', 'https://www.kinopoisk.ru/lists/navigator/country-25', 'https://www.kinopoisk.ru/lists/navigator/country-57', 'https://www.kinopoisk.ru/lists/navigator/country-41', 'https://www.kinopoisk.ru/lists/navigator/country-28', 'https://www.kinopoisk.ru/lists/navigator/country-55', 'https://www.kinopoisk.ru/lists/navigator/country-4', 'https://www.kinopoisk.ru/lists/navigator/country-12', 'https://www.kinopoisk.ru/lists/navigator/country-33', 'https://www.kinopoisk.ru/lists/navigator/country-68', 'https://www.kinopoisk.ru/lists/navigator/country-5']
m = []
#print(len(urls))
url = urls[0]
response = requests.get(url, headers=headers)
soup = BeautifulSoup(response.text, 'lxml')
#print(soup)
hrefs = soup.find_all('a', class_="selection-film-item-meta__link", href=True)
h = soup.find('h1', class_="finite-selection-h1")
m.append(h.text)
if hrefs:
    for href in hrefs:
          string = href['href']
          s = ''
          for i in string:
              if (i != '/') and (i != 'f') and (i != 'i') and (i != 'l') and (i != 'm'):
                  s += i
          m.append(s)


print('*******************')
for i in m:
    print(i)